AIX环境使用GDB


一、安装
root用户权限安装
rpm -ivh gdb-7.9.1-7.aix6.1.ppc.rpm

二、外部命令
注意：gcc编译时添加-g调试命令
gdb a.out 调试程序

--tool=<name> [default=memcheck]选择工具
-h --help 帮助
--version 显示版本
-q --quiet 只显示错误
-v --verbose 更多显示
-d 显示valgrind自身调试信息
--trace-children=<yes|no> [default: no]跟踪子进程通过exec系统调用，缺省是no
--child-silent-after-fork=<yes|no> [default: no]
--track-fds=<yes|no> [default: no]退出时显示所有打开的文件描述符列表
--time-stamp=<yes|no> [default: no] 运行加时间戳
--log-fd=<number> [default: 2, stderr]输出LOG到描述符文件
--log-file=<filename>指定日志文件
--log-socket=<ip-address:port-number>日志通过SOCKET输出到指定IP端口

与错误相关的选项：

--xml=<yes|no> [default: no]将信息以xml格式输出，只有memcheck可用
--num-callers=<number> [default: 12]缺省valgrind显示12级函数调用帮助识别程序定位
--error-limit=<yes|no> [default: yes]如果错误总数超过1千万，或不同的错误超过1000，则停止显示新错误
--error-exitcode=<number> [default: 0]指定在运行时检查到错误时返回的错误码
--show-below-main=<yes|no> [default: no]缺省不显示栈跟踪报告在main下层的函数错误
--db-attach=<yes|no> [default: no]设置为yes时valgrind会暂停提示是否转入调试工具
--db-command=<command> [default: gdb -nw %f %p]指定调试工具缺省为gdb
--leak-check=<no|summary|yes|full> [default: summary]内存检测时，给出详细的内存泄漏信息
--show-reachable=<yes|no> [default: no]内存检测时显示不可达指针


三、内部命令
(dbx)b main（或break main者） 启用单步调试模式
(dbx)run――运行可执行二进制文件
(dbx)list――列出代码
(dbx)next――跳转到下一步执行（或者 next i，不进入函数内部）
(dbx)step――跳转到下一步执行（或者 next i，进入函数内部）
(dbx)bt（或backtrace）――查看程序运行到当前位置之前所有的堆栈帧情况
(dbx)print <variable name>――打印输出值
(dbx)stop at <filename: line n>――设置断点
(dbx)stop at <funcname :line n>
(dbx)cont――继续执行
(dbx)cont at <line n>――继续执行指定行
(dbx)call――调用func()
(dbx)delete <breakpoint number>――删除断点
(dbx)quit――退出执行